<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Lab 7B: Hypothesis Testing</title>
    <meta charset="utf-8" />
    <meta name="author" content="STAT 20 UC Berkeley" />
    <script src="assets/libs/header-attrs-2.11/header-attrs.js"></script>
    <link rel="stylesheet" href="stat20.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">




class: center, middle

# Lab 8: Elections II
### Introduction to Probability and Statistics

---

# Agenda

1. GitHub
2. The OpenElections Project
3. Goodness-of-fit

---
class: middle, center

# GitHub

---

## GitHub

Statisticians, scientists, and engineers work on projects that include code, data, figures, and texts. For large-scale or long-run projects, we need a system to track everything.

--

**What is GitHub?**
- A platform that allows teamwork and progress-tracking on various projects.
- A repository is like an online folder containing project information. It consists of code, data, figures, presentations, papers, etc.
- A public repository allow everyone to access and download its content.

--

**Examples**
- The textbook *Introduction to Modern Statistics* has its code and data stored on GitHub [here](https://github.com/openintrostat/ims)
- The OpenElections project

---
class: middle, center
# The OpenElections Project

---

## The OpenElections Project
- Tracks official election results in every state of the US.
- Shares the data with the public via GitHub.
- Allows everyone to download them as CSV files.

&lt;div class="figure" style="text-align: center"&gt;
&lt;img src="slides-2_files/OpenElections.png" alt=" " width="40%" height="20%" /&gt;
&lt;p class="caption"&gt; &lt;/p&gt;
&lt;/div&gt;

---

## Access OpenElections data

Data from GitHub or other websites can be loaded into R like this:

&lt;style type="text/css"&gt;
.huge .remark-code { /*Change made here*/
  font-size: 120% !important;
}
&lt;/style&gt;

.huge[
````markdown
```{r echo = FALSE}
object &lt;- read_csv("web link to raw data")
```
````
]

So where to find the link to the raw data? 


???
### Loading data from OpenElections
- Open the OpenElections GitHub
- Repositories on the first page could be overwhelming for first-time git users. You may point out they are not different from folders in our laptops but allow people to make updates remotely.
- Under the Repositories session, open one of the folders named openelections-data-state.
- Go to the 2020 folder. Some states may include several election results (Texas includes both general and primary elections). Find and open a csv file with "general_precinct". Click the button that says “Raw” at the top right of the data frame on GitHub or click the link that says “View Raw Data”.
- This may be the first time for some students to see a raw csv file. You may point out that each pair of commas creates a cell, and each header corresponds to one comma-separated field although they might not appear aligned on the raw data.
- Copy the url of the raw data page. In RStudio, demonstrate using read_csv() to load the data frame and save it to an object. 
- Visually inspect the data frame and go over the data taxonomy (unit of observation, dimension, type of variable, etc.). It may be worth showing data from two different states, which might use different fields and formats. For instance, North Carolina includes the names of both the candidate and the running mate under the candidate field. Student will adjust their code based on each state's data set.

---
## Goodness of fit

Back to Benford's law and the Iran election
- Are the differences between the two distributions strong enough to call the election a fraud?

&lt;img src="slides-2_files/figure-html/unnamed-chunk-3-1.png" width="864" style="display: block; margin: auto;" /&gt;

???
Use part III questions to steer students towards goodness of fit.

    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "atelier-forest-light",
"highlightLines": true,
"highlightSpans": true,
"ratio": "16:9",
"countIncrementalSlides": false,
"slideNumberFormat": "%current%"
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
